<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Polar Vibes</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Outfit', sans-serif; }
    html, body { height: 100%; }
    header { position: fixed; top: 0; left: 0; width: 100%; padding: 20px;
             display: flex; justify-content: space-between; align-items: center; z-index: 1000; }
    .home-btn { color: white; font-weight: bold; text-decoration: none; font-size: 1.5rem; padding-left: 10px; }
    .burger { width: 30px; height: 20px; display: flex; flex-direction: column;
              justify-content: space-between; margin-right: 15px; cursor: pointer; }
    .burger div { height: 4px; background: white; border-radius: 2px; }
    nav { position: fixed; top: 60px; right: 20px; background: white; border: 1px solid #ccc;
          display: none; flex-direction: column; padding: 1rem; border-radius: 10px; }
    nav a { text-decoration: none; color: #0a2540; padding: 0.5rem 0; font-weight: 500; }
    .hero { position: relative; width: 100%; height: 100vh; overflow: hidden; }
    .hero::before { content: ""; position: absolute; inset: 0;
                    background: linear-gradient(to top, rgba(0, 30, 60, 0.4), rgba(0, 30, 60, 0.2)); z-index: 0; }
    .hero img { width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; z-index: -1; }
    .hero-content { position: relative; z-index: 1; display: flex; flex-direction: column;
                    align-items: center; justify-content: center; height: 100%;
                    text-align: center; color: white; transform: translateY(-10%); }
    .hero-content h1 { font-size: 4rem; margin-bottom: 1rem; font-weight: 700; }
    .hero-content p { font-size: 1.5rem; margin-bottom: 2rem; font-weight: 300; }
    .hero-content a { background-color: #fff; color: #0a2540; padding: 0.75rem 2rem;
                      border-radius: 30px; font-weight: 500; text-decoration: none;
                      transition: background 0.3s; }
    .hero-content a:hover, a:focus { background-color: #e0eaf6; }
  </style>
  <script>
    const storedCountry = localStorage.getItem("didomi_user_country");
    const storedRegion = localStorage.getItem("didomi_user_region");
    if (storedCountry) {
      window.didomiConfig = window.didomiConfig || {};
      window.didomiConfig.user = {
        country: storedCountry,
        region: storedRegion || undefined
      };
    }
  </script>
</head>
<body>
  <header>
    <a href="index.html" class="home-btn">⌂</a>
    <div class="burger" onclick="toggleMenu()">
      <div></div><div></div><div></div>
    </div>
    <nav id="navMenu">
      <a href="page1.html">Arctic Blue</a>
      <a href="page2.html">Deep Sky</a>
      <a href="contact.html">Fog Gray</a>
    </nav>
  </header>

  <section class="hero">
    <img src="background.jpg" alt="Polar Ice Background">
    <div class="hero-content">
      <h1>Polar Vibes</h1>
      <p>This is a demo website</p>
      <a href="page1.html">See more</a>
    </div>
    <!-- Footer CMP Overlay -->
    <div style="position: absolute; bottom: 0; width: 100%; background: rgba(0, 20, 40, 0.6); padding: 1rem 0; z-index: 2;">
      <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem; font-size: 0.9rem; color: white; text-align: center;">
        <div>
          <h4 style="margin-bottom: 0.5rem;">Consent choices</h4>
          <div style="display: flex; flex-direction: column; align-items: center; gap: 0.3rem;">
            <a href="javascript:Didomi.notice.show()">Show notice</a>
            <a href="javascript:Didomi.preferences.show()">Consent choices</a>
            <a href="javascript:forceResetAndShow()">Reset choices</a>
            <a href="javascript:openPopup()" style="background: #c8b5e6;">Set user country</a>
          </div>
        </div>
        <div>
          <h4 style="margin-bottom: 0.5rem;">Preferences</h4>
          <a href="javascript:void(0)">Preference center</a>
        </div>
        <div>
          <h4 style="margin-bottom: 0.5rem;">My data</h4>
          <a href="javascript:void(0)">Exercise my rights</a>
        </div>
      </div>
    </div>
    <div id="locationPopup" style="display:none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.6); z-index: 9999; justify-content: center; align-items: center;">
      <div style="background: white; padding: 2rem; border-radius: 10px; width: 90%; max-width: 400px; position: relative; text-align: center;">
        <button onclick="closePopup()" style="position: absolute; top: 10px; right: 15px;">×</button>
        <h2>Set user location</h2>
        <input id="userCountry" type="text" placeholder="User country" style="width:100%;margin-bottom:1rem;" />
        <input id="userRegion" type="text" placeholder="User region" style="width:100%;margin-bottom:1rem;" />
        <button onclick="saveLocation()">Save</button>
        <button onclick="resetLocation()">Reset</button>
      </div>
    </div>
  </section>

  <script>
    function toggleMenu() {
      const menu = document.getElementById("navMenu");
      menu.style.display = (menu.style.display === "flex") ? "none" : "flex";
    }

    document.addEventListener("click", function(event) {
      const menu = document.getElementById("navMenu");
      const burger = document.querySelector(".burger");
      if (menu && burger && !menu.contains(event.target) && !burger.contains(event.target)) {
        menu.style.display = "none";
      }
    });

    function openPopup() {
      const storedCountry = localStorage.getItem("didomi_user_country");
      const storedRegion = localStorage.getItem("didomi_user_region");
      document.getElementById('userCountry').value = storedCountry || '';
      document.getElementById('userRegion').value = storedRegion || '';
      document.getElementById('locationPopup').style.display = 'flex';
    }

    function closePopup() {
      document.getElementById('locationPopup').style.display = 'none';
    }

    function saveLocation() {
      const country = document.getElementById('userCountry').value;
      const region = document.getElementById('userRegion').value;
      if (country) {
        localStorage.setItem("didomi_user_country", country);
        if (region) {
          localStorage.setItem("didomi_user_region", region);
        } else {
          localStorage.removeItem("didomi_user_region");
        }
      }
      location.reload();
    }

    function resetLocation() {
      localStorage.removeItem("didomi_user_country");
      localStorage.removeItem("didomi_user_region");
      location.reload();
    }

    function forceResetAndShow() {
      Didomi.reset();
      setTimeout(() => {
        Didomi.notice.show();
      }, 500);
    }
  </script>

  <script type="text/javascript">
    (function(){
      (function(e,r){
        var t=document.createElement("link");t.rel="preconnect";t.as="script";
        var n=document.createElement("link");n.rel="dns-prefetch";n.as="script";
        var i=document.createElement("script");i.id="spcloader";i.type="text/javascript";
        i["async"]=true;i.charset="utf-8";
        var o="https://sdk.privacy-center.org/"+e+"/loader.js?target_type=notice&target="+r;
        if(window.didomiConfig&&window.didomiConfig.user){
          var a=window.didomiConfig.user;
          var c=a.country;var d=a.region;
          if(c){o=o+"&country="+c;if(d){o=o+"&region="+d}}
        }
        t.href="https://sdk.privacy-center.org/";
        n.href="https://sdk.privacy-center.org/";
        i.src=o;
        var s=document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(t,s);
        s.parentNode.insertBefore(n,s);
        s.parentNode.insertBefore(i,s)
      })("1ed949a5-fa8f-4791-861c-c1bd734232c9","LJAwtCMF")
    })();
  </script>
</body>
</html>
